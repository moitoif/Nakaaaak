<main>
  <div class="container">
    <div class="form-header">
      イラスト投稿
    </div>
    <div class="form-body">
      <%= form_with url:"upload" do |f| %>
        <section>
          <div class="illust-field">
            <div id="illust_preview">
              <label for="illust">
                ファイルを選択
                <%= f.file_field "illust" ,accept: 'image/jpg,image/ipeg,image/png,image/gif', "v-on:change": "uploadFile", "ref": "preview", class: "illust_form"%>
              </label>
              <div v-if="url">
                <img :src="url" style="width: 600px; height: auto;">
              </div>
            </div>
          </div>
          <div class="field">
            <%= f.text_field "title", placeholder: "タイトル" %>
          </div>
          <div class="field">
            <%= f.text_area "caption", placeholder: "説明" %>
          </div>
          <div class="action">
            <%= f.submit "投稿" %>
          </div>
        </section>
      <% end %>
    </div>
  </div>
  <%= javascript_pack_tag "illust_preview" %>
  <%= stylesheet_pack_tag 'illust_preview' %>
</main>